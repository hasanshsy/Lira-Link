<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Link Lira</title>
<meta name="description" content="المحول الذكي للعملات - تحويل بين القديم والجديد بسهولة ودقة عالية.">
<meta name="theme-color" content="#1a73e8">

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" sizes="180x180" href="icon-192.png">

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<script>
  // Register Service Worker
  if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker.register('pwabuilder-sw.js')
          .then(reg => console.log('SW Registered!'))
          .catch(err => console.log('SW Register Error', err));
      });
  }
</script>

<style>
:root {
  --bg: #f0f4f9; --card: #ffffff; --text: #1f1f1f; --accent: #1a73e8; --input: #f1f3f4; --border: #dadce0;
}
.dark-mode {
  --bg: #131314; --card: #1e1f20; --text: #e3e3e3; --accent: #a8c7fa; --input: #28292a; --border: #444746;
}
body { font-family: 'Noto Sans Arabic', 'Inter', sans-serif; background-color: var(--bg); color: var(--text); transition: 0.4s ease; }
.gemini-card { background-color: var(--card); border: 1px solid var(--border); border-radius: 28px; padding: 16px; }
.gemini-input { background-color: var(--input); border: 1px solid transparent; border-radius: 16px; padding: 12px; width: 100%; }
.gemini-input:focus { border-color: var(--accent); outline: none; }
.tab-active { background-color: var(--accent); color: var(--card); }
.currency-badge { padding: 4px 12px; border-radius: 8px; font-size: 0.8rem; background: rgba(128,128,128,0.1); }
</style>
</head>
<body class="min-h-screen p-4 md:p-10">

<div class="max-w-5xl mx-auto">
  <header class="flex justify-between items-center mb-10">
      <h1 class="text-3xl font-bold"><span class="text-blue-500">Link Lira</span></h1>
  </header>

  <main>
      <div class="gemini-card">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                  <label class="font-bold">الليرة القديمة</label>
                  <input type="number" id="oldSyp" class="gemini-input" placeholder="مثلاً: 50000" oninput="handleMainInput('old')">
              </div>
              <div>
                  <label class="font-bold">الليرة الجديدة</label>
                  <input type="number" id="newSyp" class="gemini-input" placeholder="مثلاً: 500" oninput="handleMainInput('new')">
              </div>
          </div>
          <div class="mt-6">
              <label class="font-bold">سعر صرف الدولار (يدوي)</label>
              <input type="number" id="usdRate" value="15000" class="gemini-input" oninput="handleMainInput('old')">
              <p class="mt-2 font-bold">القيمة بالدولار: <span id="usdResult">0.00 $</span></p>
          </div>
      </div>
  </main>
</div>

<script>
const notes = [500, 200, 100, 50, 25, 10];

function handleMainInput(source) {
    const oldIn = document.getElementById('oldSyp');
    const newIn = document.getElementById('newSyp');
    const rate = document.getElementById('usdRate').value || 1;

    if(source==='old') newIn.value = (oldIn.value/100).toFixed(2);
    else oldIn.value = (newIn.value*100).toFixed(0);

    document.getElementById('usdResult').innerText = (oldIn.value / rate).toFixed(2) + " $";
}
</script>

</body>
</html>
