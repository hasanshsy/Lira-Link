<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR.Q Smart Converter Pro</title>
    <meta name="description" content="Ø§Ù„Ù…Ø­ÙˆÙ„ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªØ·ÙˆØ± Ù…Ù† MR.Q Ù„Ù„ØªØ­ÙˆÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Øª ÙˆØ§Ù„ÙØ¦Ø§Øª Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ø¨Ø¯Ù‚Ø© Ù…ØªÙ†Ø§Ù‡ÙŠØ©.">
    <meta name="theme-color" content="#1a73e8">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="logo.png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('pwabuilder-sw.js')
                    .then(reg => console.log('SW Registered!'))
                    .catch(err => console.log('SW Register Error', err));
            });
        }
    </script>

    <style>
        :root {
            --bg: #f8fafd; --card: #ffffff; --text: #1f1f1f; --accent: #1a73e8; --input: #f1f3f4; --border: #dadce0;
        }
        .dark-mode {
            --bg: #131314; --card: #1e1f20; --text: #e3e3e3; --accent: #a8c7fa; --input: #28292a; --border: #444746;
        }
        body { 
            font-family: 'Noto Sans Arabic', 'Inter', sans-serif; 
            background-color: var(--bg); color: var(--text); transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .gemini-card { background-color: var(--card); border: 1px solid var(--border); border-radius: 28px; transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .gemini-input { background-color: var(--input); border: 1px solid transparent; border-radius: 16px; padding: 16px; font-size: 1.1rem; width: 100%; transition: all 0.2s; }
        .gemini-input:focus { border-color: var(--accent); background-color: var(--card); box-shadow: 0 0 0 4px rgba(26,115,232,0.1); }
        .tab-active { background-color: var(--accent); color: var(--card); box-shadow: 0 4px 12px rgba(26,115,232,0.3); }
        .currency-badge { padding: 4px 12px; border-radius: 8px; font-size: 0.8rem; font-weight: bold; background: rgba(128,128,128,0.1); }
        .copy-btn:active { transform: scale(0.9); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade { animation: fadeIn 0.4s ease forwards; }
    </style>
</head>
<body class="min-h-screen p-4 md:p-10">

<div class="max-w-5xl mx-auto">
    <header class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-10">
        <div>
            <h1 class="text-3xl font-bold tracking-tight">
                <span class="text-blue-500">MR.Q</span> Smart Converter
            </h1>
            <p class="opacity-60 text-sm mt-1">ØªØ·ÙˆÙŠØ±: <span class="font-bold">Anas Shameea</span> | Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0</p>
        </div>
        <div class="flex items-center gap-3 bg-white dark:bg-gray-800 p-2 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700">
            <button onclick="toggleLang()" id="langBtn" class="px-4 py-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 font-medium">English</button>
            <button onclick="toggleTheme()" class="p-2 rounded-xl bg-gray-100 dark:bg-gray-700 text-xl">ğŸŒ“</button>
        </div>
    </header>

    <nav class="flex gap-2 mb-8 bg-gray-200/50 dark:bg-gray-800/50 p-1.5 rounded-3xl w-fit">
        <button onclick="switchTab('main')" id="tab-main" class="tab-active px-6 py-3 rounded-2xl font-medium transition-all">Ø§Ù„Ù…Ø­ÙˆÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</button>
        <button onclick="switchTab('smart')" id="tab-smart" class="px-6 py-3 rounded-2xl font-medium transition-all opacity-60">Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø°ÙƒÙŠ</button>
        <button onclick="switchTab('market')" id="tab-market" class="px-6 py-3 rounded-2xl font-medium transition-all opacity-60">Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</button>
    </nav>

    <main id="view-main" class="animate-fade">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-6">
                <div class="gemini-card p-8 shadow-xl">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <div class="flex justify-between px-2"><label class="font-bold" id="txt-old-label">Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©</label><span class="currency-badge">SYP Ø§Ù„Ù‚Ø¯ÙŠÙ…</span></div>
                            <input type="number" id="oldSyp" class="gemini-input" placeholder="Ù…Ø«Ù„Ø§Ù‹: 50000" oninput="handleMainInput('old')">
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between px-2"><label class="font-bold" id="txt-new-label">Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label><span class="currency-badge text-blue-500">SYP Ø§Ù„Ø¬Ø¯ÙŠØ¯</span></div>
                            <input type="number" id="newSyp" class="gemini-input" placeholder="Ù…Ø«Ù„Ø§Ù‹: 500" oninput="handleMainInput('new')">
                        </div>
                    </div>
                    <div class="mt-8 p-6 bg-blue-50 dark:bg-blue-900/10 rounded-3xl border border-blue-100 dark:border-blue-800">
                        <div class="flex justify-between items-center mb-4">
                            <span class="font-bold">Ø³Ø¹Ø± ØµØ±Ù Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± (ÙŠØ¯ÙˆÙŠ)</span>
                            <input type="number" id="usdRate" value="15000" class="w-32 p-2 rounded-xl border text-center font-bold text-blue-600" oninput="handleMainInput('old')">
                        </div>
                        <div class="flex justify-between items-end">
                            <div>
                                <p class="text-sm opacity-60">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ</p>
                                <h2 class="text-4xl font-bold text-blue-600 mt-1" id="usdResult">0.00 $</h2>
                            </div>
                            <button onclick="copy('usdResult', event)" class="copy-btn bg-white dark:bg-gray-800 px-6 py-3 rounded-2xl border shadow-sm hover:shadow-md font-bold">Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="gemini-card p-6">
                <h3 class="font-bold mb-6 flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                    ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ÙØ¦Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                </h3>
                <div id="notesContainer" class="space-y-3">
                </div>
            </div>
        </div>
    </main>

    <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø°ÙƒÙŠ Ùˆ Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©) ... ÙŠÙ…ÙƒÙ† Ù†Ø³Ø®Ù‡Ø§ Ù…Ù† Ù…Ù„ÙÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ -->

    <footer class="mt-16 text-center opacity-50 space-y-2">
        <p class="font-medium">MR.Q Smart Ecosystem &copy; 2026</p>
        <p class="text-xs">ØªÙ… Ø§Ù„ØªØµÙ…ÙŠÙ… Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¯Ù‚Ø© ÙˆØ§Ù„Ø¬ÙˆØ¯Ø© Ù„Ø´Ø±ÙƒØ© MR.Q</p>
    </footer>
</div>

<script>
    // ÙƒÙ„ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª ÙƒÙ…Ø§ Ù‡ÙŠ Ù…Ù† Ù…Ù„ÙÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ
    // Ù…Ø¹ ØªØ¹Ø¯ÙŠÙ„ Ø¯Ø§Ù„Ø© copy Ù„ØªØ£Ø®Ø° event:
    function copy(id,event){
        const val=document.getElementById(id).innerText;
        navigator.clipboard.writeText(val);
        const btn=event.target;
        const originalText=btn.innerText;
        btn.innerText="ØªÙ… Ø§Ù„Ù†Ø³Ø®!";
        setTimeout(()=>btn.innerText=originalText,1500);
    }

    // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ toggleTheme, toggleLang, switchTab, handleMainInput, renderNotes, runSmartPay, loadMarketData ÙƒÙ…Ø§ ÙÙŠ Ù…Ù„ÙÙƒ
</script>
</body>
</html>
